verilator -Wall --cc --trace --Wno-UNOPTFLAT --Wno-UNUSEDSIGNAL --Wno-WIDTHEXPAND --Wno-SYNCASYNCNET --Wno-CASEX --x-assign unique --x-initial unique --timing --timescale "1ns/1ps" --converge-limit 2000 tb_i8251.sv ../../../../../rtl/third_party/io/i8251.v --top-module tb_i8251 --exe i8251_test.cpp
cd obj_dir && make -j -f Vtb_i8251.mk
make[1]: Entering directory '/home/valery/asv/sim/tests/unit/io/i8251/obj_dir'
make[1]: Nothing to be done for 'default'.
make[1]: Leaving directory '/home/valery/asv/sim/tests/unit/io/i8251/obj_dir'
=== i8251 UART TEST START ===

=== TEST 1: RESET STATE ===
[RESET] Asserting reset...
[RESET] Reset released
[PINS] After reset TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1
[READ]  CTRL = 0x84
Status after reset: 0x84

=== TEST 2: CONFIGURATION ===
[WRITE] CTRL = 0x00
[PINS] After mode config TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1
[WRITE] CTRL = 0x37
[PINS] After command config TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1
[READ]  CTRL = 0x84
Status after config: 0x84

=== TEST 3: LOOPBACK TEST ===
Sending test data: 0x55
[WRITE] DATA = 0x55
[PINS] After write data TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1
Monitoring transmission...
Cycle 0: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 20: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 40: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 60: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 80: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 100: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 120: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 140: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 160: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
Cycle 180: TXD=1 RXRDY=0
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
[READ]  CTRL = 0x84
TIMEOUT: No data received after 200 cycles
[PINS] Timeout state TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1

=== TEST COMPLETE ===
[PINS] Final state TXD=1 TXRDY=0 TXEMPTY=1 RXD=1 RXRDY=0 DTR=1 RTS=1
